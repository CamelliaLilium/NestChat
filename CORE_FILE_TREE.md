# NestChat ç«¯åˆ°ç«¯åŠ å¯†é€šä¿¡ç³»ç»Ÿ - æ ¸å¿ƒæ–‡ä»¶æ ‘

æœ¬æ–‡æ¡£åˆ—å‡ºäº† NestChat ç³»ç»Ÿä¸­çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæ’é™¤äº†ç¯å¢ƒé…ç½®ã€æµ‹è¯•æ–‡ä»¶ã€é‡å¤èµ„æºç­‰éå…³é”®æ–‡ä»¶ã€‚

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
NestChat-1/
â”œâ”€â”€ ğŸ“ README.md                           # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ ğŸ“ E2E_ENCRYPTION_GUIDE.md             # ç«¯åˆ°ç«¯åŠ å¯†ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ ğŸ“ CHATLIST_FEATURES.md                # ChatListåŠŸèƒ½è¯¦ç»†è¯´æ˜
â”œâ”€â”€ ğŸ“ BUGFIX_VERIFICATION.md              # é—®é¢˜ä¿®å¤éªŒè¯æ¸…å•
â”œâ”€â”€ ğŸš€ start_system.bat                    # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ§ª test_e2e_encryption.html            # ç«¯åˆ°ç«¯åŠ å¯†æµ‹è¯•é¡µé¢
â”‚
â”œâ”€â”€ ğŸ–¥ï¸ frontend/                           # å‰ç«¯æ ¸å¿ƒæ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ index.html                      # åº”ç”¨å…¥å£HTML
â”‚   â”œâ”€â”€ ğŸ“„ package.json                    # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ âš™ï¸ vite.config.js                  # Viteæ„å»ºé…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¨ public/                         # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ ï¿½ background/                 # èƒŒæ™¯å›¾ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ ChatBack.png            # èŠå¤©èƒŒæ™¯
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ LoginBack.png           # ç™»å½•èƒŒæ™¯
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ–¼ï¸ message.png             # æ¶ˆæ¯èƒŒæ™¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Icon/                       # å›¾æ ‡èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ logo.png                # åº”ç”¨Logo
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ ç”µè¯.svg                # ç”µè¯å›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ï¿½ï¸ connect.svg             # è¿æ¥å›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ hungup.svg              # æŒ‚æ–­å›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ OpenAudio.png           # å¼€å¯éŸ³é¢‘å›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ OpenVedio.png           # å¼€å¯è§†é¢‘å›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ–¼ï¸ ShutAudio.png           # å…³é—­éŸ³é¢‘å›¾æ ‡
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ–¼ï¸ ShutVedio.png           # å…³é—­è§†é¢‘å›¾æ ‡
â”‚   â”‚   â””â”€â”€ ğŸ“ picture/                    # ç¤ºä¾‹å›¾ç‰‡(ä¿ç•™å°‘é‡)
â”‚   â”‚       â”œâ”€â”€ ğŸ–¼ï¸ 1.png
â”‚   â”‚       â”œâ”€â”€ ğŸ–¼ï¸ 2.png
â”‚   â”‚       â””â”€â”€ ğŸ–¼ï¸ 3.png
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ’» src/                            # æºä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ ğŸ¯ main.jsx                    # Reactåº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ¯ App.jsx                     # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ¨ App.css                     # åº”ç”¨æ ·å¼
â”‚   â”‚   â”œâ”€â”€ ğŸ¨ index.css                   # å…¨å±€æ ·å¼
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ pages/                      # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ” LoginCodePage.jsx       # ç™»å½•éªŒè¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ” LoginVcodePage.jsx      # ç™»å½•éªŒè¯ç é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ SignUpPage.jsx          # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ’¬ ChatPage.jsx            # â­ èŠå¤©é¡µé¢(æ ¸å¿ƒ)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ‘¥ FriendsPage_fixed.jsx   # â­ å¥½å‹é¡µé¢(æ ¸å¿ƒ)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ§© components/                 # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ’¬ ChatListPage.jsx        # â­ èŠå¤©åˆ—è¡¨ç»„ä»¶(æ ¸å¿ƒ)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ’¬ ChatBubble.jsx          # æ¶ˆæ¯æ°”æ³¡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ’¬ ChatInputBar.jsx        # æ¶ˆæ¯è¾“å…¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸï¸ VideoBubble.jsx         # â­ è§†é¢‘/å¤´åƒæ°”æ³¡ç»„ä»¶(æ ¸å¿ƒ)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¥ FriendsList.jsx         # å¥½å‹åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¥ FriendItem.jsx          # å¥½å‹é¡¹ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ‘¥ FriendDetail.jsx        # å¥½å‹è¯¦æƒ…ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“· PhotoSelect.jsx         # ç…§ç‰‡é€‰æ‹©ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ¤ VoiceChat.jsx           # è¯­éŸ³èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ VideoCallModal.jsx      # è§†é¢‘é€šè¯å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ§­ NavButton.jsx           # å¯¼èˆªæŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ”§ ChangeSign.jsx          # ä¸ªæ€§ç­¾åä¿®æ”¹ç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ¨ styles/                     # æ ·å¼æ–‡ä»¶
â”‚   â”‚       â””â”€â”€ ğŸ¨ friendsStyles.js        # å¥½å‹é¡µé¢æ ·å¼
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ› ï¸ utils/                          # â­ æ ¸å¿ƒå·¥å…·åº“
â”‚       â”œâ”€â”€ ğŸ” encryption.js               # â­ ç«¯åˆ°ç«¯åŠ å¯†ç®¡ç†å™¨(æ ¸å¿ƒ)
â”‚       â”œâ”€â”€ ğŸ­ steganography.js            # â­ å›¾ç‰‡éšå†™æœ¯å®ç°(æ ¸å¿ƒ)
â”‚       â”œâ”€â”€ ğŸŒ api.js                      # â­ APIæ¥å£å°è£…(æ ¸å¿ƒ)
â”‚       â”œâ”€â”€ ğŸ‘¤ avatarUtils.js              # â­ å¤´åƒç»Ÿä¸€ç®¡ç†(æ ¸å¿ƒ)
â”‚       â””â”€â”€ ğŸ”Œ globalSocket.js             # â­ å…¨å±€Socketç®¡ç†(æ ¸å¿ƒ)
â”‚
â””â”€â”€ âš™ï¸ backend/                            # åç«¯æ ¸å¿ƒæ–‡ä»¶
    â”œâ”€â”€ ğŸ“„ package.json                    # åç«¯ä¾èµ–é…ç½®
    â”œâ”€â”€ ğŸ¯ server.js                       # â­ ä¸»æœåŠ¡å™¨æ–‡ä»¶(æ ¸å¿ƒ)
    â”œâ”€â”€ ğŸ—„ï¸ server.db                       # SQLiteæ•°æ®åº“æ–‡ä»¶
    â”œâ”€â”€ ğŸ—„ï¸ init-db.js                      # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
    â”œâ”€â”€ ğŸ‘¥ init_test_users.js              # æµ‹è¯•ç”¨æˆ·åˆå§‹åŒ–
    â”œâ”€â”€ ğŸš€ start.bat                       # Windowså¯åŠ¨è„šæœ¬
    â”œâ”€â”€ ğŸš€ start.sh                        # Linuxå¯åŠ¨è„šæœ¬
    â”‚
    â”œâ”€â”€ ğŸ“ imgs/                           # å¤´åƒå›¾ç‰‡èµ„æº(ä¿ç•™å°‘é‡ç¤ºä¾‹)
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ 1.jpg
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ 2.jpg
    â”‚   â”œâ”€â”€ ğŸ–¼ï¸ 3.jpg
    â”‚   â””â”€â”€ ... (å…¶ä»–å¤´åƒå›¾ç‰‡)
    â”‚
    â””â”€â”€ ğŸ“ ServerService/                  # åç«¯æœåŠ¡æ¨¡å—
        â”œâ”€â”€ ğŸ—„ï¸ Database.py                 # æ•°æ®åº“æ“ä½œæ¨¡å—
        â””â”€â”€ ğŸ”„ Survival.py                 # æœåŠ¡å­˜æ´»æ£€æµ‹æ¨¡å—
```

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### â­ å…³é”®æ ¸å¿ƒæ–‡ä»¶ (ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½)

#### å‰ç«¯æ ¸å¿ƒ
- **`utils/encryption.js`** - ç«¯åˆ°ç«¯åŠ å¯†ç®¡ç†å™¨ï¼ŒRSA+AES+éšå†™æœ¯é›†æˆ
- **`utils/steganography.js`** - å›¾ç‰‡éšå†™æœ¯å®ç°ï¼ŒCanvas APIåŸºç¡€
- **`utils/api.js`** - APIæ¥å£å°è£…ï¼Œå‰åç«¯é€šä¿¡
- **`utils/avatarUtils.js`** - å¤´åƒç»Ÿä¸€ç®¡ç†ï¼Œç¡®ä¿UIä¸€è‡´æ€§
- **`utils/globalSocket.js`** - å…¨å±€Socketç®¡ç†ï¼Œå®æ—¶æ¶ˆæ¯æ¨é€
- **`pages/ChatPage.jsx`** - èŠå¤©é¡µé¢ï¼Œæ¶ˆæ¯å‘é€æ¥æ”¶æ ¸å¿ƒé€»è¾‘
- **`pages/FriendsPage_fixed.jsx`** - å¥½å‹ç®¡ç†é¡µé¢
- **`components/ChatListPage.jsx`** - èŠå¤©åˆ—è¡¨ï¼Œæœ€è¿‘å¯¹è¯ç®¡ç†
- **`components/VideoBubble.jsx`** - æ¶ˆæ¯æ°”æ³¡ç»„ä»¶ï¼Œæ”¯æŒå¤šåª’ä½“æ˜¾ç¤º

#### åç«¯æ ¸å¿ƒ
- **`server.js`** - Node.jsä¸»æœåŠ¡å™¨ï¼ŒWebSocket+API+åŠ å¯†æ”¯æŒ
- **`server.db`** - SQLiteæ•°æ®åº“ï¼Œå­˜å‚¨ç”¨æˆ·ã€æ¶ˆæ¯ã€å¯†é’¥ç­‰
- **`init-db.js`** - æ•°æ®åº“ç»“æ„åˆå§‹åŒ–
- **`ServerService/Database.py`** - Pythonæ•°æ®åº“æ“ä½œæ¨¡å—
- **`ServerService/Survival.py`** - æœåŠ¡ç›‘æ§æ¨¡å—

#### ç³»ç»Ÿæ–‡æ¡£
- **`E2E_ENCRYPTION_GUIDE.md`** - ç«¯åˆ°ç«¯åŠ å¯†ç³»ç»Ÿå®Œæ•´è¯´æ˜
- **`CHATLIST_FEATURES.md`** - ChatListåŠŸèƒ½å®ç°è¯¦æƒ…
- **`BUGFIX_VERIFICATION.md`** - ä¿®å¤é—®é¢˜éªŒè¯æ¸…å•

### ğŸ”§ é‡è¦æ”¯æ’‘æ–‡ä»¶

#### åº”ç”¨å…¥å£
- **`frontend/main.jsx`** - Reactåº”ç”¨å¯åŠ¨å…¥å£
- **`frontend/App.jsx`** - ä¸»è·¯ç”±å’ŒçŠ¶æ€ç®¡ç†
- **`frontend/index.html`** - HTMLå…¥å£æ–‡ä»¶

#### é…ç½®æ–‡ä»¶
- **`frontend/package.json`** - å‰ç«¯ä¾èµ–ï¼šReactã€crypto-jsã€jsencryptç­‰
- **`backend/package.json`** - åç«¯ä¾èµ–ï¼šExpressã€Socket.ioã€SQLite3ç­‰
- **`frontend/vite.config.js`** - å‰ç«¯æ„å»ºé…ç½®

#### å¯åŠ¨è„šæœ¬
- **`start_system.bat`** - ä¸€é”®å¯åŠ¨å‰åç«¯æœåŠ¡
- **`backend/start.bat`** - åç«¯æœåŠ¡å¯åŠ¨
- **`backend/start.sh`** - Linuxåç«¯å¯åŠ¨

### ğŸ“‹ å·²æ’é™¤çš„æ–‡ä»¶ç±»å‹

#### ç¯å¢ƒä¸æ„å»ºæ–‡ä»¶
- `.env`, `.env.example` - ç¯å¢ƒå˜é‡é…ç½®
- `package-lock.json`, `bun.lock` - åŒ…ç®¡ç†é”å®šæ–‡ä»¶
- `.gitignore` - Gitå¿½ç•¥é…ç½®
- `biome.json`, `eslint.config.js` - ä»£ç æ ¼å¼åŒ–é…ç½®
- `netlify.toml` - éƒ¨ç½²é…ç½®

#### æµ‹è¯•æ–‡ä»¶
- `test_*.js`, `test_*.py`, `test_*.html` - å„ç§æµ‹è¯•è„šæœ¬
- `verification-test.html` - éªŒè¯æµ‹è¯•é¡µé¢
- `simple_test.js` - ç®€å•æµ‹è¯•è„šæœ¬

#### é‡å¤/åºŸå¼ƒæ–‡ä»¶
- `server - å‰¯æœ¬.db` - æ•°æ®åº“å¤‡ä»½
- `message.db` - æ—§æ•°æ®åº“æ–‡ä»¶
- `backend/imgs/4.jpg ~ 100.jpg` - å¤§é‡é‡å¤å¤´åƒ(ä¿ç•™å°‘é‡ç¤ºä¾‹)
- `frontend/public/picture/4.png ~ 10.jpg` - é‡å¤ç¤ºä¾‹å›¾ç‰‡
- `FriendsPage.jsx` - å·²è¢« `FriendsPage_fixed.jsx` æ›¿ä»£

#### å¼€å‘å·¥å…·æ–‡ä»¶
- `__pycache__/` - Pythonç¼–è¯‘ç¼“å­˜
- Pythonæµ‹è¯•è„šæœ¬å¦‚ `windows_11.py`, `test.py` ç­‰
- é‚®ä»¶æµ‹è¯•è„šæœ¬ `send_email.py`, `test_email.py`

#### å…¶ä»–å·¥å…·æ–‡ä»¶
- `check-db.js` - æ•°æ®åº“æ£€æŸ¥å·¥å…·
- `install-*.bat` - å®‰è£…è„šæœ¬
- å„ç§é¡µé¢æµ‹è¯•Pythonæ–‡ä»¶

## ğŸ“Š æ ¸å¿ƒæ–‡ä»¶ç»Ÿè®¡

- **æ€»æ ¸å¿ƒæ–‡ä»¶æ•°**: ~35ä¸ªæ–‡ä»¶
- **å‰ç«¯æ ¸å¿ƒæ–‡ä»¶**: ~20ä¸ª
- **åç«¯æ ¸å¿ƒæ–‡ä»¶**: ~8ä¸ª  
- **æ–‡æ¡£æ–‡ä»¶**: ~4ä¸ª
- **é…ç½®/å¯åŠ¨æ–‡ä»¶**: ~3ä¸ª

## ğŸ¯ ä½¿ç”¨å»ºè®®

1. **å¼€å‘æ—¶é‡ç‚¹å…³æ³¨**: â­ æ ‡è®°çš„æ ¸å¿ƒæ–‡ä»¶
2. **éƒ¨ç½²æ—¶å¿…éœ€**: æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶ + é…ç½®æ–‡ä»¶
3. **å­¦ä¹ å‚è€ƒ**: ä» `E2E_ENCRYPTION_GUIDE.md` å¼€å§‹
4. **é—®é¢˜æ’æŸ¥**: å‚è€ƒ `BUGFIX_VERIFICATION.md`
5. **åŠŸèƒ½æ‰©å±•**: åŸºäºç°æœ‰æ ¸å¿ƒç»„ä»¶è¿›è¡Œæ‰©å±•

æœ¬æ–‡ä»¶æ ‘ç¡®ä¿äº†ç³»ç»Ÿçš„å®Œæ•´æ€§ï¼ŒåŒæ—¶å»é™¤äº†å†—ä½™ï¼Œä¾¿äºç†è§£å’Œç»´æŠ¤ã€‚
