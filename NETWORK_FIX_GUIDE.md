# NestChat ç½‘ç»œé…ç½®è§£å†³æ–¹æ¡ˆ

## ğŸš¨ é—®é¢˜æè¿°
å…¶ä»–ä¸»æœºè®¿é—® `http://10.122.239.128:5173/` æ—¶ï¼š
- å‰ç«¯é¡µé¢å¯ä»¥æ­£å¸¸æ¸²æŸ“
- ç™»å½•æ—¶æŠ¥é”™ï¼š`ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·ç¡®ä¿åç«¯æœåŠ¡å™¨å·²å¯åŠ¨`
- é”™è¯¯æ˜¾ç¤ºå°è¯•è¿æ¥ `localhost:3001`

## ğŸ” é—®é¢˜åŸå› 
1. **åç«¯æœåŠ¡å™¨åªç›‘å¬localhost** - å…¶ä»–ä¸»æœºæ— æ³•è®¿é—®
2. **å‰ç«¯APIé…ç½®ä½¿ç”¨localhost** - æ— æ³•è·¨ä¸»æœºé€šä¿¡
3. **Viteå¼€å‘æœåŠ¡å™¨é»˜è®¤åªç›‘å¬æœ¬åœ°** - å¤–éƒ¨è®¿é—®å—é™

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. åç«¯æœåŠ¡å™¨é…ç½®ä¿®å¤
**æ–‡ä»¶**: `backend/server.js`
```javascript
// ä¿®æ”¹å‰
server.listen(PORT, () => {

// ä¿®æ”¹å  
server.listen(PORT, '0.0.0.0', () => {
```

### 2. å‰ç«¯å¼€å‘æœåŠ¡å™¨é…ç½®
**æ–‡ä»¶**: `frontend/vite.config.js`
```javascript
export default defineConfig({
  plugins: [react()],
  server: {
    host: '0.0.0.0', // ğŸ‘ˆ æ–°å¢ï¼šå…è®¸å¤–éƒ¨è®¿é—®
    port: 5173,
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
        secure: false
      }
    }
  }
})
```

### 3. APIåœ°å€é…ç½®
**æ–‡ä»¶**: `frontend/.env`
```bash
# ç”Ÿäº§/è·¨ä¸»æœºè®¿é—®é…ç½®
VITE_API_BASE_URL=http://10.122.239.128:3001/api/v1
VITE_WS_URL=ws://10.122.239.128:3001

# æœ¬åœ°å¼€å‘é…ç½®ï¼ˆæ³¨é‡Šæ‰ï¼‰
# VITE_API_BASE_URL=http://localhost:3001/api/v1  
# VITE_WS_URL=ws://localhost:3001
```

## ğŸš€ é‡å¯æ­¥éª¤

### 1. é‡å¯åç«¯æœåŠ¡
```bash
cd e:\NestChat-1\backend
python server.py
# æˆ–
node server.js
```

### 2. é‡å¯å‰ç«¯æœåŠ¡
```bash
cd e:\NestChat-1\frontend
npm run dev
```

### 3. éªŒè¯é…ç½®
- **æœ¬æœºè®¿é—®**: `http://localhost:5173`
- **å…¶ä»–ä¸»æœºè®¿é—®**: `http://10.122.239.128:5173`
- **APIæµ‹è¯•**: `curl http://10.122.239.128:3001/api/v1/health`

## ğŸ“ é…ç½®è¯´æ˜

### ç½‘ç»œç›‘å¬åœ°å€
- `localhost` / `127.0.0.1` - åªå…è®¸æœ¬æœºè®¿é—®
- `0.0.0.0` - å…è®¸æ‰€æœ‰ç½‘ç»œæ¥å£è®¿é—®ï¼ˆåŒ…æ‹¬å…¶ä»–ä¸»æœºï¼‰

### ç«¯å£é…ç½®
- **å‰ç«¯æœåŠ¡**: 5173ç«¯å£
- **åç«¯API**: 3001ç«¯å£
- **ç¡®ä¿é˜²ç«å¢™å¼€æ”¾è¿™äº›ç«¯å£**

### ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§
1. `.env` æ–‡ä»¶ä¸­çš„ `VITE_API_BASE_URL`
2. `api.js` ä¸­çš„é»˜è®¤å€¼ `http://localhost:3001/api/v1`

## âš ï¸ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨ `0.0.0.0` ç›‘å¬æ˜¯å®‰å…¨çš„
2. **ç”Ÿäº§ç¯å¢ƒ**: å»ºè®®ä½¿ç”¨åå‘ä»£ç†ï¼ˆnginxï¼‰å’Œå…·ä½“IPç»‘å®š
3. **é˜²ç«å¢™**: ç¡®ä¿å¿…è¦ç«¯å£å·²å¼€æ”¾

## ğŸ”§ æ•…éšœæ’é™¤

### å¦‚æœä»ç„¶æ— æ³•è®¿é—®ï¼š

1. **æ£€æŸ¥é˜²ç«å¢™**:
   ```bash
   # Windowsé˜²ç«å¢™æ£€æŸ¥
   netsh advfirewall firewall show rule name="Node.js Server"
   ```

2. **æ£€æŸ¥ç«¯å£ç›‘å¬**:
   ```bash
   netstat -an | findstr :3001
   netstat -an | findstr :5173
   ```

3. **æµ‹è¯•ç½‘ç»œè¿é€šæ€§**:
   ```bash
   # ä»å…¶ä»–ä¸»æœºæµ‹è¯•
   telnet 10.122.239.128 3001
   curl http://10.122.239.128:3001/api/v1/health
   ```

4. **æ£€æŸ¥IPåœ°å€**:
   ```bash
   ipconfig
   # ç¡®è®¤ 10.122.239.128 æ˜¯å½“å‰ä¸»æœºçš„æ­£ç¡®IP
   ```

## ğŸ“‹ æœ€ç»ˆæ£€æŸ¥æ¸…å•

- [ ] åç«¯æœåŠ¡ç›‘å¬ `0.0.0.0:3001`
- [ ] å‰ç«¯æœåŠ¡ç›‘å¬ `0.0.0.0:5173`  
- [ ] `.env` é…ç½®ä½¿ç”¨å®é™…IPåœ°å€
- [ ] é˜²ç«å¢™å…è®¸ 3001 å’Œ 5173 ç«¯å£
- [ ] å…¶ä»–ä¸»æœºå¯ä»¥pingé€š `10.122.239.128`
- [ ] APIå¥åº·æ£€æŸ¥è¿”å›æ­£å¸¸

---
**ä¿®å¤æ—¶é—´**: $(Get-Date)
**æœåŠ¡å™¨IP**: 10.122.239.128
**å‰ç«¯ç«¯å£**: 5173
**åç«¯ç«¯å£**: 3001
